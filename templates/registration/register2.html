{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code for Africa Now</title>
    <link href="{% static 'asset/css/headers.css' %}" rel="stylesheet" >
    <link href="{% static 'css/main.css' %}" rel="stylesheet" >
    <!--Fontawasome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!--Ajax-->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>

    <div class="row" style=" background: #E7ECEF;">
        <div class="col-md-5 login-page" style='background: #E7ECEF; height:100vh'>
            <div class="container-fluid pl-0 pr-0 h-100">
                <div class="row align-items-center justify-content-center h-100">
                    <div class="col-md-2"></div>
                    <div class="col-md-8 full-height">
                        <div class="login-main-left">
                            <div class="text-center mb-5 login-main-left-header pt-4">
                                {% comment %} <img src="{% static 'img/favicon.png' %}" class="img-fluid" alt="LOGO"> {% endcomment %}
                                <h5 class="mt-3 mb-3">Welcome to Code for Africa Now</h5>
                            </div>
                            <div class=" inputArea">
                                <form method="POST" name="signupForm" onsubmit="return validateForm()">
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <label>Username</label>
                                        <input type="text" name="username" class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label>Email or phone</label>
                                        <input type="text" name="email_or_phone" class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label>Location</label>
                                        <input type="text" name="location" class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label>Password</label>
                                        <input type="password" name="password1" class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label>Confirm Password</label>
                                        <input type="password" name="password2" class="form-control">
                                    </div>
                                    <div class="mt-4">
                                        <button type="submit" style="background-color: #6F9CB7; color:#fff" class="btn btn-block btn-lg">Sign Up</button>
                                    </div>
                                </form>
                            </div>
                            
                            <div class="text-center mt-2">
                                <p class="light-gray">Already have an Account? <a href="{% url 'login' %}">Sign In</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>
        <div class="col-md-7" style="height: 100vh; overflow: hidden;">
            <img src="{% static 'img/studentscoding.jpg' %}" style="object-fit: cover; width: 100%; height: 100%;" alt="LOGO"> 
        </div> 
    </div>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<script>
    function validateForm() {
        var username = document.forms["signupForm"]["username"].value;
        var emailOrPhone = document.forms["signupForm"]["email_or_phone"].value;
        var location = document.forms["signupForm"]["location"].value;
        var password1 = document.forms["signupForm"]["password1"].value;
        var password2 = document.forms["signupForm"]["password2"].value;

        if (username == "") {
            alert("Username must be filled out");
            return false;
        }
        if (emailOrPhone == "") {
            alert("Email or phone must be filled out");
            return false;
        }
        if (location == "") {
            alert("Location must be filled out");
            return false;
        }
        if (password1 == "") {
            alert("Password must be filled out");
            return false;
        }
        if (password2 == "") {
            alert("Confirm Password must be filled out");
            return false;
        }
        if (password1 != password2) {
            alert("Passwords do not match");
            return false;
        }
        if (password1.length < 8) {
            alert("Password must be at least 8 characters long");
            return false;
        }
        var passwordPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*.]).{8,}$/;
        if (!passwordPattern.test(password1)) {
            alert("Password must contain at least one digit, one lowercase letter, one uppercase letter, one special character [!@#$%^&*.], and be at least 8 characters long");
            return false;
        }
    }
</script>

</body>
</html>